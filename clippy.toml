# :schema

msrv = "1.86"

allow-unwrap-in-tests = true
type-complexity-threshold = 2000 # for our needs long types are fine

# https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_macros
disallowed-macros = [
    # "std::unimplemented", # generated by ArrowDeserialize derive-macro :(
]

# https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_methods
disallowed-methods = [
    "std::env::temp_dir",       # Use the tempdir crate instead
    "std::thread::spawn",       # Use `std::thread::Builder` and name the thread
    "sha1::Digest::new",        # SHA1 is cryptographically broken
    "std::panic::catch_unwind", # We compile with `panic = "abort"`
]

# https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_names
disallowed-names = []

# https://rust-lang.github.io/rust-clippy/master/index.html#disallowed_types
disallowed-types = [
    # Use the faster & simpler non-poisonable primitives in `parking_lot` instead
    # "std::sync::Mutex",
    "std::sync::RwLock",
    "std::sync::Condvar",
    # "std::sync::Once",  # enabled for now as the `log_once` macro uses it internally
]

# Allow-list of words for markdown in dosctrings https://rust-lang.github.io/rust-clippy/master/index.html#doc_markdown
doc-valid-idents = []
